{% extends "AppTurnos1/index.html" %}

{% load static %}

{% block Acavaloquecambia %}

<h5> Lista Especialidades </h5>

<ul>
        <select id="IdEspecialidad" name="especialidades" onchange="CapturarValor();">
            <p><option value="{{ 0 }}">{{ "Seleccione una opcion"}}</option></p>
            {% for especialidad in object_list %}
            <p><option value="{{ especialidad.id}}">{{ especialidad.especialidad}}</option></p>
            
            {% endfor %}
        </select>
        <script type="text/javascript">
            function CapturarValor()
            {
            /* Para obtener el valor */
            var cod = document.getElementById("IdEspecialidad").value;

            var urlDetalle = "{% url 'Detail' 0 %}".replace("0", cod);
            var urlEditar = "{% url 'Edit' 0 %}".replace("0", cod);
            var urlEliminar = "{% url 'Delete' 0 %}".replace("0", cod);
            document.getElementById("IdVer").href  = urlDetalle;
            document.getElementById("IdEditar").href  = urlEditar;
            document.getElementById("IdBorrar").href  = urlEliminar;

            if (cod == '0')
                {
                    document.getElementById("IdVer").href  = '';
                    document.getElementById("IdEditar").href  = '';
                    document.getElementById("IdBorrar").href  = '';
                    alert('Debe seleccionar un valor');
                }
            }
            </script>


        <br>
        <a id="IdVer" > Ver</a>
        <a id="IdEditar"> Editar</a>
        <a id="IdBorrar"> Borrar</a>
    

</ul>

{% endblock %}