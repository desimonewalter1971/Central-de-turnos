{% extends "AppTurnos1/index.html" %}

{% load static %}

{% block Acavaloquecambia %}

<ul>
    <div class="row g-3">
        <div class="col-12 col-sm-3"> 
            <h5> Lista Pacientes </h5>
            <select class="form-select bg-light border-0" style="height: 55px;" id="IdPaciente" name="pacientes" onchange="CapturarValor();">
                <p><option value="{{ 0 }}">{{ "Seleccione el paciente"}}</option></p>
                {% for paciente in object_list %}
                <p><option value="{{ paciente.id}}">{{paciente.nombre}} {{paciente.apellido}} - DNI: {{paciente.DNI}} - {{paciente.fechaNacimento}} - Obra social: {{paciente.obraSocial}} - email: {{paciente.email}}</option></p>
                
                {% endfor %}
            </select>
        </div>
    </div>
    <script type="text/javascript">
        function CapturarValor()
        {
        /* Para obtener el valor */
        var cod = document.getElementById("IdPaciente").value;

        var urlDetalle = "{% url 'Detailpaciente' 0 %}".replace("0", cod);
        var urlEditar = "{% url 'Editpaciente' 0 %}".replace("0", cod);
        var urlEliminar = "{% url 'Deletepaciente' 0 %}".replace("0", cod);
        document.getElementById("IdVer").href  = urlDetalle;
        document.getElementById("IdEditar").href  = urlEditar;
        document.getElementById("IdBorrar").href  = urlEliminar;

        if (cod == '0')
            {
                document.getElementById("IdVer").href  = '';
                document.getElementById("IdEditar").href  = '';
                document.getElementById("IdBorrar").href  = '';
                alert('Debe seleccionar un valor');
            }
        }
        </script>


    <br>
    <a id="IdVer" > Ver</a>
    <a id="IdEditar"> Editar</a>
    <a id="IdBorrar"> Borrar</a>
</ul>

{% endblock %}


